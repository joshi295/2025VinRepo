<template>
  <lightning-card title="Related Contacts">
      <div class="slds-align_absolute-center slds-m-around_x-small">

          <lightning-button label="New Contact" onclick={handleClick}></lightning-button>
      </div>
      
      <lightning-datatable data={contactData}
                           columns={columns}
                           key-field="id"
                           onrowaction={handleRowAction}
                           hide-checkbox-column>
      </lightning-datatable>
      
      <template if:true={showAddForm}>
          <lightning-card title="Add Contact">
              <div class="slds-m-around_medium">
                  <lightning-input label="Name" value={newContactName} onchange={handleNameChange}></lightning-input>
                  <lightning-input label="Phone" value={newContactPhone} onchange={handlePhoneChange}></lightning-input>
                  <div class="slds-m-top_medium">
                      <lightning-button variant="brand" label="Save" onclick={handleSave}></lightning-button>
                      <lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button>
                  </div>
              </div>
          </lightning-card>
      </template>

      <template if:true={showEditForm}>
          <lightning-card title="Edit Contact">
              <div class="slds-m-around_medium">
                  <lightning-input label="Name" value={conNameToEdit} onchange={handleEditNameChange}></lightning-input>
               <lightning-input label="Phone" value={conPhoneToEdit} onchange={handleEditPhoneChange}></lightning-input>
              </div>
              <div class="slds-m-top_medium">
                  <lightning-button variant="brand" label="Save" onclick={handleEditSave}></lightning-button>
                  <lightning-button variant="neutral" label="Cancel" onclick={handleEditCancel}></lightning-button>
              </div>
          </lightning-card>
      </template>
  </lightning-card>
</template>